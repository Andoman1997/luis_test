import{_ as z}from"./DbUnd6nj.js";import{r as _,f as w,n as G,e as I,g as O,h as D,c as o,a as e,i as b,F as f,j as y,k as p,o as a,l as T,t as $,m as j,p as F,q as K,s as q,u as Z,b as x,w as J,d as Q}from"#entry";const X=5,B=300,E=300,Y=()=>{const i=_(),s=_(!1),t=_(!0),n=_(0),k=_([]),u=l=>{if(!i.value)return;const g=i.value.scrollLeft;l==="left"?i.value.scrollTo({left:g-B,behavior:"smooth"}):i.value.scrollTo({left:g+B,behavior:"smooth"})},d=l=>{if(!i.value)return;const g=l*E;i.value.scrollTo({left:g,behavior:"smooth"}),n.value=l,c()},c=()=>{k.value.forEach((l,g)=>{l.isActive=g===n.value})},h=()=>{if(!i.value)return;const{scrollLeft:l,scrollWidth:g,clientWidth:C}=i.value;s.value=l>0,t.value=l<g-C-1;const S=Math.round(l/E);S!==n.value&&S>=0&&S<k.value.length&&(n.value=S,c())},m=()=>{h()},r=(l=X)=>{k.value=Array.from({length:l},(g,C)=>({isActive:C===0})),G(()=>{i.value&&(i.value.addEventListener("scroll",m),h())})},v=()=>{i.value&&i.value.removeEventListener("scroll",m)};return{sliderWrapper:i,canScrollLeft:w(s),canScrollRight:w(t),currentSlide:w(n),indicatorDots:w(k),scrollSlider:u,scrollToSlide:d,initSlider:r,cleanup:v}},ee={class:"sticker-slider-section"},te={class:"slider-container"},se={class:"sticker-slider",ref:"stickerSlider"},ie={key:0,class:"skeleton-stickers"},ne=["onClick"],oe=["src","alt"],ae={class:"sticker-overlay"},le={class:"sticker-name"},ce=["disabled"],re=["disabled"],de={key:0,class:"slider-indicator"},ve={class:"indicator-dots"},ue=["onClick"],pe=I({__name:"StickerSlider",props:{stickers:{},isLoading:{type:Boolean}},emits:["openPreview"],setup(i){const{sliderWrapper:s,canScrollLeft:t,canScrollRight:n,indicatorDots:k,scrollSlider:u,scrollToSlide:d,initSlider:c,cleanup:h}=Y();return O(()=>{c()}),D(()=>{h()}),(m,r)=>(a(),o("div",ee,[r[4]||(r[4]=e("div",{class:"section-header section-header--centered"},[e("h2",{class:"section-title"},"Коллекция стикеров"),e("p",{class:"section-description"}," Просмотрите нашу обширную коллекцию стикеров с плавной прокруткой ")],-1)),e("div",te,[e("div",{class:"slider-wrapper",ref_key:"sliderWrapper",ref:s},[e("div",se,[m.isLoading?(a(),o("div",ie,[(a(),o(f,null,y(20,v=>e("div",{key:v,class:"skeleton-sticker"})),64))])):(a(!0),o(f,{key:1},y(m.stickers,(v,l)=>(a(),o("div",{key:l,class:"sticker-item",style:T({"--delay":`${l*.05}s`}),onClick:g=>m.$emit("openPreview",v,l)},[e("img",{src:v.image,alt:v.name,class:"sticker-img"},null,8,oe),e("div",ae,[e("span",le,$(v.name),1)])],12,ne))),128))],512)],512),m.isLoading?b("",!0):(a(),o("button",{key:0,class:"slider-btn slider-btn--prev",onClick:r[0]||(r[0]=v=>p(u)("left")),disabled:!p(t)},[...r[2]||(r[2]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[e("path",{d:"M15 18L9 12L15 6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])],8,ce)),m.isLoading?b("",!0):(a(),o("button",{key:1,class:"slider-btn slider-btn--next",onClick:r[1]||(r[1]=v=>p(u)("right")),disabled:!p(n)},[...r[3]||(r[3]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[e("path",{d:"M9 18L15 12L9 6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])],8,re))]),m.isLoading?b("",!0):(a(),o("div",de,[e("div",ve,[(a(!0),o(f,null,y(p(k),(v,l)=>(a(),o("button",{key:l,class:j(["indicator-dot",{"indicator-dot--active":v.isActive}]),onClick:g=>p(d)(l)},null,10,ue))),128))])]))]))}}),me=Object.assign(pe,{__name:"StickerSlider"}),ke={class:"content-grid"},_e={class:"section-header"},ge={class:"section-title"},he={class:"section-description"},we={class:"section-content"},fe={key:0,class:"skeleton-cards"},ye={class:"card-image"},Se=["src","alt"],Le={class:"card-content"},$e={class:"card-title"},be={class:"card-description"},Ce=I({__name:"ContentGrid",props:{sections:{},isLoading:{type:Boolean}},setup(i){return(s,t)=>(a(),o("div",ke,[(a(!0),o(f,null,y(s.sections,(n,k)=>(a(),o("div",{key:k,class:"content-section"},[e("div",_e,[e("h2",ge,$(n.title),1),e("p",he,$(n.description),1)]),e("div",we,[s.isLoading?(a(),o("div",fe,[(a(),o(f,null,y(3,u=>e("div",{key:u,class:"skeleton-card"},[...t[0]||(t[0]=[F('<div class="skeleton-card-image"></div><div class="skeleton-card-content"><div class="skeleton-card-title"></div><div class="skeleton-card-description"></div><div class="skeleton-card-description short"></div></div>',2)])])),64))])):(a(!0),o(f,{key:1},y(n.items,(u,d)=>(a(),o("div",{key:d,class:"content-card"},[e("div",ye,[e("img",{src:u.image,alt:u.title,loading:"lazy"},null,8,Se)]),e("div",Le,[e("h3",$e,$(u.title),1),e("p",be,$(u.description),1)])]))),128))])]))),128))]))}}),xe=Object.assign(Ce,{__name:"ContentGrid"}),Ie="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20opacity='0.4'%3e%3cmask%20id='mask0_14_2658'%20style='mask-type:alpha'%20maskUnits='userSpaceOnUse'%20x='0'%20y='0'%20width='24'%20height='24'%3e%3crect%20width='24'%20height='24'%20fill='%23D9D9D9'/%3e%3c/mask%3e%3cg%20mask='url(%23mask0_14_2658)'%3e%3cpath%20d='M7.82506%2013.0001L13.4251%2018.6001L12.0001%2020.0001L4.00006%2012.0001L12.0001%204.00006L13.4251%205.40006L7.82506%2011.0001H20.0001V13.0001H7.82506Z'%20fill='%23333333'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e",Me=()=>{const i=[];for(let s=1;s<=20;s++)i.push({name:`Стикер ${s}`,image:`https://cataas.com/cat?${s}`});return i},Oe=i=>i.map((s,t)=>({name:`Эксперт ${t+1}`,image:s})),P=()=>{const i=_(!0),s=_([]),t=async()=>{try{const n=await $fetch("/api/cats");s.value=n.data}catch(n){console.error("Error loading images:",n),s.value=["https://cataas.com/cat","https://cataas.com/cat","https://cataas.com/cat"]}finally{i.value=!1}};return{isLoading:w(i),images:w(s),loadImages:t}},Be={class:"sticker-content"},Ee={class:"sticker-collapsed"},De={key:0,class:"loading-placeholder"},Te={key:1,class:"collapsed-stickers"},je=["src","alt"],Pe={class:"sticker-expanded"},Ne={class:"sticker-experts"},We={key:0,class:"skeleton-experts"},Ae=["src","alt"],Re={key:0,class:"skeleton-btn"},Ve={key:1,class:"consultation-btn"},Ue=I({__name:"StickerWidget",setup(i){const s=_(!1),t=_([]),{isLoading:n,images:k,loadImages:u}=P(),d=async()=>{await u(),t.value=Oe([...k.value])};O(()=>{d()});const c=()=>{s.value=!0},h=()=>{s.value=!1};return(m,r)=>(a(),o("div",{class:j(["sticker-widget",{"sticker-widget--expanded":p(s)}]),onMouseenter:c,onMouseleave:h},[e("div",Be,[e("div",Ee,[p(n)?(a(),o("div",De,[...r[0]||(r[0]=[e("div",{class:"skeleton-container"},[e("div",{class:"skeleton-item"}),e("div",{class:"skeleton-item"}),e("div",{class:"skeleton-item"})],-1)])])):(a(),o("div",Te,[(a(!0),o(f,null,y(p(t),(v,l)=>(a(),o("div",{key:l,class:"collapsed-sticker"},[e("img",{src:v.image,alt:v.name,class:"sticker-image"},null,8,je)]))),128))])),r[1]||(r[1]=e("div",{class:"sticker-navigation"},[e("button",{class:"nav-btn"},[e("img",{src:Ie,alt:"Назад",class:"nav-icon"})])],-1))]),e("div",Pe,[r[3]||(r[3]=e("div",{class:"sticker-header"},[e("h3",{class:"sticker-title"},"Консультация эксперта")],-1)),e("div",Ne,[p(n)?(a(),o("div",We,[...r[2]||(r[2]=[e("div",{class:"skeleton-expert"},null,-1),e("div",{class:"skeleton-expert"},null,-1),e("div",{class:"skeleton-expert"},null,-1)])])):(a(!0),o(f,{key:1},y(p(t),(v,l)=>(a(),o("div",{key:l,class:"expert-avatar",style:T({"--delay":`${l*.1}s`})},[e("img",{src:v.image,alt:v.name,class:"avatar-image"},null,8,Ae)],4))),128))]),p(n)?(a(),o("div",Re)):(a(),o("button",Ve,"Получить консультацию"))])])],34))}}),He=Object.assign(Ue,{__name:"StickerWidget"}),ze={class:"preview-image-container"},Ge=["src","alt"],Fe={class:"preview-info"},Ke={class:"preview-title"},qe=I({__name:"StickerPreview",props:{isOpen:{type:Boolean},selectedItem:{},selectedIndex:{},items:{}},emits:["close","navigate"],setup(i,{emit:s}){const t=s,n=()=>t("close"),k=d=>t("navigate",d),u=()=>{};return(d,c)=>d.isOpen?(a(),o("div",{key:0,class:"sticker-preview-modal",onClick:n},[c[7]||(c[7]=e("div",{class:"preview-backdrop"},null,-1)),e("div",{class:"preview-container",onClick:c[2]||(c[2]=K(()=>{},["stop"]))},[e("button",{class:"preview-close",onClick:n},[...c[3]||(c[3]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[e("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])]),e("div",ze,[e("img",{src:d.selectedItem?.image,alt:d.selectedItem?.name,class:"preview-image",onLoad:u},null,40,Ge)]),e("div",Fe,[e("h3",Ke,$(d.selectedItem?.name),1),c[4]||(c[4]=e("p",{class:"preview-description"},"Кликните вне изображения или на крестик для закрытия",-1))]),d.selectedIndex>0?(a(),o("button",{key:0,class:"preview-nav preview-nav--prev",onClick:c[0]||(c[0]=h=>k("prev"))},[...c[5]||(c[5]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[e("path",{d:"M15 18L9 12L15 6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])])):b("",!0),d.selectedIndex<d.items.length-1?(a(),o("button",{key:1,class:"preview-nav preview-nav--next",onClick:c[1]||(c[1]=h=>k("next"))},[...c[6]||(c[6]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[e("path",{d:"M9 18L15 12L9 6",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])])):b("",!0)])])):b("",!0)}}),Ze=Object.assign(qe,{__name:"StickerPreview"}),Je=()=>{const i=_(!1),s=_(null),t=_(0),n=_([]),k=(m,r,v)=>{s.value=m,t.value=r,n.value=v,i.value=!0,document.body.style.overflow="hidden"},u=()=>{i.value=!1,s.value=null,t.value=0,n.value=[],document.body.style.overflow="auto"},d=m=>{m==="prev"&&t.value>0?(t.value--,s.value=n.value[t.value]||null):m==="next"&&t.value<n.value.length-1&&(t.value++,s.value=n.value[t.value]||null)},c=m=>{if(i.value)switch(m.key){case"Escape":u();break;case"ArrowLeft":d("prev");break;case"ArrowRight":d("next");break}},h=()=>{document.body.style.overflow="auto"};return{isOpen:w(i),selectedItem:w(s),selectedIndex:w(t),items:w(n),open:k,close:u,navigate:d,handleKeydown:c,cleanup:h}},Qe={class:"sticker-page"},Xe={class:"container"},Ye={class:"page-header"},st=I({__name:"sticker",setup(i){const{isLoading:s,images:t,loadImages:n}=P(),{isOpen:k,selectedItem:u,selectedIndex:d,items:c,open:h,close:m,navigate:r,handleKeydown:v}=Je(),l=_([]),g=()=>{l.value=Me()},C=(M,L)=>{h(M,L,l.value)},S=()=>{m()},N=M=>{r(M)},W=q(()=>[{title:"Рекомендуемый контент",description:"Откройте для себя наши самые популярные и трендовые элементы",items:[{title:"Премиум качество",description:"Высококачественные материалы и мастерство, превосходящие ожидания",image:t.value[0]||"https://cataas.com/cat"},{title:"Инновационный дизайн",description:"Передовой дизайн, сочетающий функциональность с эстетикой",image:t.value[1]||"https://cataas.com/cat"},{title:"Пользовательский опыт",description:"Интуитивный интерфейс, разработанный с учетом удовлетворенности пользователей",image:t.value[2]||"https://cataas.com/cat"}]},{title:"Последние обновления",description:"Будьте в курсе наших новейших функций и улучшений",items:[{title:"Повышение производительности",description:"Значительные улучшения в скорости и отзывчивости",image:t.value[0]||"https://cataas.com/cat"},{title:"Новые функции",description:"Увлекательные новые возможности, которые улучшают ваш рабочий процесс",image:t.value[1]||"https://cataas.com/cat"},{title:"Обновления безопасности",description:"Усиленные меры безопасности для защиты ваших данных",image:t.value[2]||"https://cataas.com/cat"}]},{title:"Фавориты сообщества",description:"Самые любимые функции участниками нашего сообщества",items:[{title:"Инструменты сотрудничества",description:"Работайте вместе безупречно с продвинутыми функциями сотрудничества",image:t.value[0]||"https://cataas.com/cat"},{title:"Опции настройки",description:"Персонализируйте свой опыт с обширными возможностями настройки",image:t.value[1]||"https://cataas.com/cat"},{title:"Мобильная поддержка",description:"Полная функциональность на всех ваших устройствах",image:t.value[2]||"https://cataas.com/cat"}]}]);return O(async()=>{g(),await n(),document.addEventListener("keydown",v)}),D(()=>{document.removeEventListener("keydown",v)}),Z({title:"Галерея стикеров - Sticker App",meta:[{name:"description",content:"Изучите нашу интерактивную галерею стикеров с плавными анимациями"}]}),(M,L)=>{const A=z,R=me,V=xe,U=He,H=Ze;return a(),o("div",Qe,[e("div",Xe,[e("header",Ye,[x(A,{to:"/",class:"back-link"},{default:J(()=>[...L[0]||(L[0]=[Q("← Назад на главную",-1)])]),_:1}),L[1]||(L[1]=e("h1",{class:"page-title"},"Галерея стикеров",-1))]),x(R,{stickers:p(l),"is-loading":p(s),onOpenPreview:C},null,8,["stickers","is-loading"]),x(V,{sections:p(W),"is-loading":p(s)},null,8,["sections","is-loading"])]),x(U),x(H,{"is-open":p(k),"selected-item":p(u),"selected-index":p(d),items:[...p(c)],onClose:S,onNavigate:N},null,8,["is-open","selected-item","selected-index","items"])])}}});export{st as default};
